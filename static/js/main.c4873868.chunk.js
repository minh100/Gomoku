(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t,r){},128:function(e,t,r){},129:function(e,t,r){},130:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(61),c=r.n(s),o=(r(71),r(7)),l=r(5),i=r(4),d=r.n(i),u=r(8),m=r(2),b=r(66);function x(e,t){switch(t.type){case"FETCH_ALL_ROOMS":return t.payload;case"CREATE_ROOM":return[].concat(Object(b.a)(e),[t.payload]);case"DELETE_ROOM":return e.filter((function(e){return e._id!==t.payload}));case"ADD_PLAYER_TO_ROOM":return e.map((function(e){return console.log(t),e._id===t.payload._id?t.payload:e}));default:return e}}var j=r(9),p=r.n(j),h="http://localhost:4001/rooms",f=function(e){return p.a.post(h,e)},g=function(e){return p.a.delete("".concat(h,"/").concat(e))},O=function(e,t,r){p.a.patch("".concat(h,"/").concat(e),r).then((function(e){return e}))},w=r(0),v=Object(n.createContext)([]),y=function(e){var t=Object(n.useReducer)(x,[]),r=Object(m.a)(t,2),a=r[0],s=r[1],c=function(){var e=Object(u.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get(h);case 3:t=e.sent,r=t.data,s({type:"FETCH_ALL_ROOMS",payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t);case 3:r=e.sent,n=r.data,s({type:"CREATE_ROOM",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(t);case 3:s({type:"DELETE_ROOM",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(d.a.mark((function e(t,r,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(t,0,n);case 3:a=e.sent,c=a.data,s({type:"ADD_PLAYER_TO_ROOM",payload:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r,n){return e.apply(this,arguments)}}();return Object(w.jsx)(v.Provider,{value:{rooms:a,getAllRooms:c,createNewRoom:o,deleteGameRoom:l,addPlayer:i},children:e.children})},N=r(3);function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL_USERS":return t.payload;case"CREATE_USER":case"LOGIN":return localStorage.setItem("profile",JSON.stringify(null===t||void 0===t?void 0:t.data)),Object(N.a)(Object(N.a)({},e),{},{userData:null===t||void 0===t?void 0:t.data});case"LOGOUT":return localStorage.removeItem("profile"),Object(N.a)(Object(N.a)({},e),{},{userData:null});default:return e}}var C="http://localhost:4001/users",S=function(e){return p.a.post("".concat(C,"/login"),e)},L=Object(n.createContext)([]),A=function(e){var t=Object(n.useReducer)(k,[]),r=Object(m.a)(t,2),a=r[0],s=r[1],c=function(){var e=Object(u.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get(C);case 3:t=e.sent,r=t.data,s({type:"FETCH_ALL_USERS",payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(u.a)(d.a.mark((function e(t,r,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o=t,p.a.post("".concat(C,"/signup"),o);case 3:a=e.sent,c=a.data,s({type:"CREATE_USER",data:c}),r.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n(!0);case 12:case"end":return e.stop()}var o}),e,null,[[0,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(u.a)(d.a.mark((function e(t,r,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(t);case 3:a=e.sent,c=a.data,s({type:"LOGIN",data:c}),r.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n(!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{s({type:"LOGOUT"})}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)(L.Provider,{value:{users:a,getAllUsers:c,createNewUser:o,login:l,logout:i},children:e.children})},R=r(62),T=r(63),_=function(){function e(t,r,n,a,s,c,o,l){if(Object(R.a)(this,e),this.size=t,this.playerArray=r,0===n.length){for(var i=new Array(t),d=0;d<i.length;d++)i[d]=new Array(t).fill(-1);this.matrixBoard=i,this.board=i.flat();var u=Math.floor(Math.random()*r.length);this.currentTurn=u,this.winner=-1,this.draw=!1,this.win1={col:0,row:0},this.win2={col:0,row:0}}else{for(var m=[],b=0;b<224;b+=15)m.push(n.slice(b,b+15));this.board=m,this.currentTurn=a,this.winner=s,this.draw=c,this.win1=o,this.win2=l}}return Object(T.a)(e,[{key:"setupNewGame",value:function(){var t=new e(this.size,this.playerArray,[],0,-1,!1,{},{});this.board=t.board,this.currentTurn=t.currentTurn,this.winner=-1,this.draw=!1,this.win1={col:0,row:0},this.win2={col:0,row:0},this.flatBoard=t.flatBoard}},{key:"click",value:function(e,t){-1!==this.winner||this.draw||-1===this.board[e][t]&&(this.board[e][t]=this.currentTurn,!function(e,t,r,n,a,s){if(M(e,t,r,n,-1,0,a,s)>=5)return!0;if(M(e,t,r,n,-1,1,a,s)>=5)return!0;if(M(e,t,r,n,-1,-1,a,s)>=5)return!0;if(M(e,t,r,n,0,-1,a,s)>=5)return!0;return!1}(this.board,e,t,this.currentTurn,this.win1,this.win2)?!function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e.length;r++)if(-1===e[t][r])return!1;return!0}(this.board)?this.currentTurn!==this.playerArray.length-1?this.currentTurn++:this.currentTurn=0:this.draw=!0:this.winner=this.currentTurn)}}]),e}();function M(e,t,r,n,a,s,c,o){for(var l=1,i=t+a,d=r+s;i>=0&&i<e.length&&d>=0&&d<e.length&&e[i][d]===n;)l++,i+=a,d+=s;for(c.row=i-a,c.col=d-s,i=t-a,d=r-s;i>=0&&i<e.length&&d>=0&&d<e.length&&e[i][d]===n;)l++,i-=a,d-=s;return o.row=i+a,o.col=d+s,l}var E=r(64),W=r.n(E),G=Object({NODE_ENV:"production",PUBLIC_URL:"/Gomoku",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||"http://localhost:4001",P=W()(G),U=Object(n.createContext)(P),H=(r(120),function(e){var t=e.room,r=Object(n.useState)(""),a=Object(m.a)(r,2),s=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(m.a)(o,2),d=i[0],u=i[1],b=Object(n.useContext)(U),x=Object(l.f)(),j=Object(n.useContext)(L).users,p=Object(n.useState)(JSON.parse(localStorage.getItem("profile")));if(null!==p[0]){var h=void 0!==p[0].userResult?p[0].userResult.username:p[0].result.username;console.log("users",j)}var f=j.find((function(e){return e.username===h}));return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:"px-8 py-5 border-b border-gray-200 bg-white text-sm",children:Object(w.jsx)("div",{className:"flex items-center",children:Object(w.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:t.roomName})})}),Object(w.jsx)("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(w.jsxs)("p",{className:"text-gray-900 whitespace-no-wrap",children:[t.playerArray.length,"/2"]})}),Object(w.jsxs)("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm flex w-25 justify-between",children:[Object(w.jsxs)("span",{className:"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight",children:[Object(w.jsx)("span",{"aria-hidden":"true",className:"absolute inset-0 bg-green-200 opacity-50 rounded-full"}),Object(w.jsx)("span",{className:"relative",children:""!==t.password?"Required":"None"})]}),""!==t.password&&Object(w.jsx)("input",{type:"text",name:"password",className:"focus:outline-none focus:ring-2 focus:ring-blue-600 block w-1/2 pl-2 sm:text-sm border-gray-300 rounded-md",placeholder:"password...",required:"on",autoComplete:"off",value:s,onChange:function(e){return c(e.target.value)}})]}),void 0!==p[0]&&null!==p[0]?2!==t.playerArray.length?Object(w.jsx)("td",{className:"px-5 pb-5 pt-3 border-b border-gray-200 bg-white text-sm",children:Object(w.jsx)("button",{className:"flex-shrink-0 px-4 py-1 pb-2 text-base font-semibold text-white bg-purple-600 rounded-lg shadow-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-purple-200",onClick:function(){return function(){if(s===t.password&&2!==t.playerArray.length){t.playerArray.push(f),console.log("handleJoin",t),console.log("room id ",t._id);var e=new _(15,t.playerArray,[],0,-1,!1,{},{},0,0);b.emit("updateRoom",{gameToJoin:t,gameObject:e}),x.push("/play/".concat(t.roomName),[t.roomName,t.playerArray]),u(!1)}else u(!0)}()},children:"Join"})}):Object(w.jsx)("td",{className:"px-5 pb-5 pt-3 border-b border-gray-200 bg-white text-sm",children:Object(w.jsx)("div",{className:"flex-shrink-0 text-center px-4 py-1 pb-2 text-base font-semibold text-white bg-yellow-400 rounded-lg shadow-md",children:"In Game"})}):Object(w.jsx)(w.Fragment,{})]}),d?Object(w.jsx)("div",{className:"notification",children:Object(w.jsxs)("div",{className:"text-white px-6 py-4 border-0 rounded relative mb-4 bg-red-500",children:[Object(w.jsx)("span",{className:"text-xl inline-block mr-5 align-middle",children:Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Object(w.jsx)("span",{className:"inline-block align-middle mr-8",children:"Wrong Password"}),Object(w.jsx)("button",{className:"absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none",onClick:function(){return u(!1)},children:Object(w.jsx)("span",{children:"\xd7"})})]})}):null]})}),I=function(e){var t=e.rooms,r=Object(n.useState)(t),a=Object(m.a)(r,2),s=a[0],c=a[1],o=Object(n.useState)(""),l=Object(m.a)(o,2),i=l[0],d=l[1],u=Object(n.useState)(!1),b=Object(m.a)(u,2),x=b[0],j=b[1];return Object(n.useEffect)((function(){if(c(t),""!==i){var e=t.filter((function(e){return-1!==e.roomName.toLowerCase().indexOf(i.toLowerCase())}));c(e)}}),[i,x]),Object(w.jsx)("div",{className:"container mx-auto px-4 sm:px-0 max-w-5xl",children:Object(w.jsxs)("div",{className:"py-8",children:[Object(w.jsxs)("div",{className:"flex flex-row mb-1 sm:mb-0 justify-between w-full",children:[Object(w.jsx)("h2",{className:"pl-2 text-2xl leading-tight font-bold",children:"List of Rooms"}),Object(w.jsx)("div",{className:"text-end pr-2",children:Object(w.jsxs)("form",{className:"flex w-full max-w-sm space-x-3",children:[Object(w.jsx)("button",{className:"flex-shrink-0 px-4 py-2 text-base font-semibold text-white bg-purple-600 rounded-lg shadow-md flex justify-center items-center",onClick:function(){return j(!x)},children:Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"white",children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),Object(w.jsx)("div",{className:" relative ",children:Object(w.jsx)("input",{type:"text",id:'"form-subscribe-Filter',className:"rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"room...",autoComplete:"off",value:i,onChange:function(e){return d(e.target.value)}})})]})})]}),Object(w.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-hidden",children:Object(w.jsx)("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:Object(w.jsxs)("table",{className:"min-w-full leading-normal",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{scope:"col",className:"pl-8 py-3 bg-white font-semibold border-b border-gray-300 text-gray-800 text-left text-sm uppercase",children:"Room"}),Object(w.jsx)("th",{scope:"col",className:"px-4 py-3 bg-white font-semibold border-b border-gray-300 text-gray-800 text-left text-sm uppercase",children:"Player Count"}),Object(w.jsx)("th",{scope:"col",className:"px-5 py-3 bg-white font-semibold border-b border-gray-300 text-gray-800 text-left text-sm uppercase",children:"Password"}),Object(w.jsx)("th",{scope:"col",className:"px-5 py-3 bg-white border-b border-gray-300 text-gray-800  text-left text-sm uppercase font-normal"})]})}),Object(w.jsx)("tbody",{children:t&&0!==s.length?s.sort((function(e,t){return e.playerArray.length-t.playerArray.length})).map((function(e){return Object(w.jsx)(H,{room:e},e._id)})):t.sort((function(e,t){return e.playerArray.length-t.playerArray.length})).map((function(e){return Object(w.jsx)(H,{room:e},e._id)}))})]})})})]})})},D=(r(128),function(){var e=Object(n.useContext)(L).users,t=Object(n.useContext)(v),r=t.rooms,a=t.createNewRoom,s=Object(n.useState)(!1),c=Object(m.a)(s,2),o=c[0],i=c[1],b=Object(n.useState)(!1),x=Object(m.a)(b,2),j=x[0],h=x[1],f=Object(n.useContext)(U),g=Object(l.f)(),O=Math.floor(6*Math.random())+20,y=Math.floor(6*Math.random())+20,k=Object(n.useState)(JSON.parse(localStorage.getItem("profile")));if(null!==k[0]){var C=void 0!==k[0].userResult?k[0].userResult.username:k[0].result.username;console.log("users",e)}var S=e.find((function(e){return e.username===C})),A=Object(n.useState)((function(){return null===k[0]?{roomName:"",password:"",playerArray:[],ratingWin:O,ratingLose:y}:{roomName:"",password:"",playerArray:[S],ratingWin:O,ratingLose:y}})),R=Object(m.a)(A,2),T=R[0],M=R[1],E=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,s,c,o,l,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===(n=r.filter((function(e){return e.playerArray.length<2}))).length){e.next=9;break}(s=n[0]).playerArray.push(S),c=new _(15,s.playerArray,[],0,-1,!1,{},{},0,0),f.emit("updateRoom",{gameToJoin:s,gameObject:c}),g.push("/play/".concat(s.roomName),[s.roomName,s.playerArray]),e.next=19;break;case 9:return o=T,e.next=12,p.a.get("https://random-word-api.herokuapp.com/word?number=2");case 12:l=e.sent,i=l.data,o=Object(N.a)(Object(N.a)({},o),{},{roomName:"".concat(i[0].charAt(0).toUpperCase()+i[0].slice(1)).concat(i[1].charAt(0).toUpperCase()+i[1].slice(1)),playerArray:[S]}),a(o),f.emit("gameCreated",o),g.push("/play/".concat(o.roomName),[o.roomName,o.playerArray]),G();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(u.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://random-word-api.herokuapp.com/word?number=2");case 2:t=e.sent,r=t.data,M(Object(N.a)(Object(N.a)({},T),{},{roomName:"".concat(r[0].charAt(0).toUpperCase()+r[0].slice(1)).concat(r[1].charAt(0).toUpperCase()+r[1].slice(1)),playerArray:[S]}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){h(!1),M({roomName:"",password:""})};return Object(w.jsxs)(w.Fragment,{children:[void 0!==k[0]&&null!==k[0]?Object(w.jsxs)("div",{className:"grid gap-4 row-gap-3 sm:grid-cols-2 lg:grid-cols-2",children:[Object(w.jsx)("div",{className:"room-form-bottons flex flex-col justify-between p-5 border rounded-lg shadow-md",onClick:function(e){return E(e)},children:Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsx)("div",{className:"flex items-center justify-center w-12 h-12 mb-4 pr-3 pl-3 rounded-full bg-indigo-50",children:Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"black",children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),Object(w.jsxs)("div",{className:"pl-7 sm:pr-9 sm:pt-6 sm:pl-0",children:[Object(w.jsx)("h6",{className:"mb-2 font-semibold leading-5 text-xl",children:"Find a Game"}),Object(w.jsx)("p",{className:"mb-3 text-sm text-gray-900",children:"Join an available game. If no games are available then a new game will be created."})]})]})}),Object(w.jsx)("div",{className:"room-form-bottons flex flex-col justify-between p-5 border rounded-lg shadow-md",onClick:function(){return i(!0)},children:Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsx)("div",{className:"flex items-center justify-center w-12 h-12 mb-4 pr-3 pl-3 rounded-full bg-indigo-50",children:Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"black",children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),Object(w.jsxs)("div",{className:"pl-7 sm:pr-2 sm:pt-6 sm:pl-0",children:[Object(w.jsx)("h6",{className:"mb-2 font-semibold leading-5 text-xl",children:"Create Custom Game"}),Object(w.jsx)("p",{className:"mb-3 text-sm text-gray-900",children:"Make your own game and invite or wait for others to join."})]})]})})]}):Object(w.jsxs)("div",{className:"text-white px-6 py-4 border-0 rounded relative mb-4 bg-purple-600 flex justify-center",children:[Object(w.jsx)("span",{className:"text-xl inline-block mr-5 align-middle",children:Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),Object(w.jsx)("span",{className:"inline-block align-middle mr-8 text-base font-semibold",children:"LOGIN TO PLAY AGAINST OTHERS"})]}),o&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"}),Object(w.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Object(w.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault();for(var t=!1,n=0;n<r.length;n++)if(r[n].roomName.toLowerCase()===T.roomName.toLowerCase()){t=!0,h(!0);break}t||(console.log("emitted and created Game",T),a(T),f.emit("gameCreated",T),g.push("/play/".concat(T.roomName),[T.roomName,T.playerArray]),i(!1),G())},className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(w.jsx)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t",children:Object(w.jsx)("h3",{className:"text-3xl font-semibold",children:"Creating Custom Game"})}),Object(w.jsxs)("div",{className:"relative p-6 grid grid-rows-2 gap-y-2.5",children:[Object(w.jsxs)("div",{className:"grid grid-cols-2",children:[j?Object(w.jsx)("label",{htmlFor:"roomName",className:"block text-sm font-medium text-red-700 pr-2",children:"Room Name is taken"}):Object(w.jsx)("label",{htmlFor:"roomName",className:"block text-sm font-medium text-gray-700 pr-2",children:"Room Name"}),Object(w.jsx)("div",{className:"mt-1 relative rounded-md shadow-sm",children:Object(w.jsx)("input",{type:"text",name:"roomName",className:"focus:outline-none focus:ring-2 focus:ring-blue-600 block w-full pl-12 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"room name...",required:!0,maxLength:"26",autoComplete:"off",value:T.roomName,onChange:function(e){return M(Object(N.a)(Object(N.a)({},T),{},{roomName:e.target.value}))}})})]}),Object(w.jsxs)("div",{className:"grid grid-cols-2",children:[Object(w.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 pr-2",autoComplete:"off",children:"Password (optional)"}),Object(w.jsx)("div",{className:"mt-1 relative rounded-md shadow-sm",children:Object(w.jsx)("input",{type:"text",name:"password",className:"focus:outline-none focus:ring-2 focus:ring-blue-600 block w-full pl-12 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"password...",autoComplete:"off",value:T.password,onChange:function(e){return M(Object(N.a)(Object(N.a)({},T),{},{password:e.target.value}))}})})]})]}),Object(w.jsxs)("div",{className:"grid grid-cols-2",children:[Object(w.jsx)("div",{className:"flex items-center justify-start p-4",children:Object(w.jsx)("button",{className:"bg-blue-500 text-white font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){W()},children:"Randomize Name"})}),Object(w.jsxs)("div",{className:"flex items-center justify-end p-4 border-t border-solid border-blueGray-200 rounded-b",children:[Object(w.jsx)("button",{className:"bg-green-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",children:"Create Game"}),Object(w.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none hover:shadow-lg focus:outline-none mr-1 mb-1 ease-linear transition-all",type:"button",onClick:function(){i(!1),G()},children:"Cancel"})]})]})]})})})]})]})}),B=function(){var e=Object(n.useContext)(v).getAllRooms,t=Object(n.useContext)(L).getAllUsers,r=Object(n.useContext)(U),a=Object(n.useState)([]),s=Object(m.a)(a,2),c=s[0],o=s[1];return Object(n.useEffect)((function(){return e(),t(),r.emit("joinLobby"),function(){r.off("joinLobby")}}),[r]),Object(n.useEffect)((function(){return r.on("lobby",(function(t){o(t),e()})),function(){r.off("lobby")}}),[c,r]),Object(w.jsxs)("div",{className:"px-4 py-8 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-10",children:[Object(w.jsx)("div",{className:"max-w-xl mb-10 md:mx-auto sm:text-center lg:max-w-2xl md:mb-12",children:Object(w.jsx)(D,{})}),Object(w.jsx)(I,{rooms:c})]})},F=function(){var e,t,r,a,s,c,i,d,u,b,x=Object(n.useState)(!1),j=Object(m.a)(x,2),p=j[0],h=j[1],f=Object(n.useState)(!1),g=Object(m.a)(f,2),O=g[0],v=g[1],y=Object(l.f)(),N=Object(n.useContext)(L).logout,k=Object(n.useState)(JSON.parse(localStorage.getItem("profile"))),C=Object(l.g)(),S=Object(n.useState)(C.pathname),A=Object(m.a)(S,2),R=A[0],T=A[1];Object(n.useEffect)((function(){T(C.pathname)}),[C.pathname]);return Object(w.jsxs)("nav",{className:"bg-gray-800",children:[Object(w.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8",children:Object(w.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(w.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:Object(w.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false",onClick:function(){return h(!p)},children:[Object(w.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),Object(w.jsx)("svg",{className:"hidden h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),Object(w.jsxs)("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start",children:[Object(w.jsx)("div",{className:"flex-shrink-0 flex items-center",children:Object(w.jsx)(o.b,{to:"/",children:Object(w.jsx)("h1",{className:"text-3xl  text-white",children:"Gomoku"})})}),Object(w.jsx)("div",{className:"hidden sm:block sm:ml-6",children:Object(w.jsxs)("div",{className:"flex space-x-4",children:[Object(w.jsx)(o.b,{to:"/",className:"/"===R?"bg-gray-900 text-white px-3 py-2 rounded-md text-md font-medium":"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-md font-medium","aria-current":"page",children:"Lobby"}),Object(w.jsx)("a",{href:"/leaderboard",className:"/leaderboard"===R?"bg-gray-900 text-white px-3 py-2 rounded-md text-md font-medium":"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-md font-medium","aria-current":"page",children:"Leaderboard"}),Object(w.jsx)(o.b,{to:"/localplay",className:"/localplay"===R?"bg-gray-900 text-white px-3 py-2 rounded-md text-md font-medium":"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-md font-medium","aria-current":"page",children:"Local Play"})]})})]}),Object(w.jsxs)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[Object(w.jsx)("h1",{className:"text-white pl-1",children:(null===(e=k[0])||void 0===e||null===(t=e.userResult)||void 0===t?void 0:t.username)||(null===(r=k[0])||void 0===r||null===(a=r.result)||void 0===a?void 0:a.username)}),void 0!==k[0]&&null!==k[0]?Object(w.jsxs)("div",{className:"ml-3 relative",children:[Object(w.jsx)("div",{className:"mr-2",children:Object(w.jsx)("button",{type:"button",className:"bg-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",id:"user-menu","aria-expanded":"false","aria-haspopup":"true",onClick:function(){return v(!O)},children:(null===(s=k[0])||void 0===s||null===(c=s.userResult)||void 0===c?void 0:c.username)?Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:"".concat(null===(i=k[0])||void 0===i||null===(d=i.userResult)||void 0===d?void 0:d.avatar)}}):Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:"".concat(null===(u=k[0])||void 0===u||null===(b=u.result)||void 0===b?void 0:b.avatar)}})})}),O&&Object(w.jsxs)("div",{className:"z-50 origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu",children:[Object(w.jsx)(o.b,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Profile"}),Object(w.jsx)("button",{className:" block border-t-2 px-4 py-2 text-sm text-red-700 hover:bg-gray-100 w-full h-full focus:outline-none",role:"menuitem",onClick:function(){return N(),v(!1),void y.push("/login")},type:"button",children:"Sign Out"})]})]}):Object(w.jsx)(o.b,{className:"flex-shrink-0 px-4 py-1 pb-2 text-base font-semibold text-purple-600 bg-white rounded-lg shadow-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-purple-200",to:"/login",children:"Login"})]})]})}),p&&Object(w.jsx)("div",{className:"sm:hidden",id:"mobile-menu",children:Object(w.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 flex justify-evenly",children:[Object(w.jsx)(o.b,{to:"/",className:"/"===R?"bg-gray-900 text-white px-3 py-2 rounded-md text-md font-medium":"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-md font-medium","aria-current":"page",onClick:function(){h(!1)},children:"Lobby"}),Object(w.jsx)("a",{href:"/leaderboard",className:"/leaderboard"===R?"bg-gray-900 text-white px-3 py-2 rounded-md text-md font-medium":"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-md font-medium","aria-current":"page",onClick:function(){h(!1)},children:"Leaderboard"}),Object(w.jsx)(o.b,{to:"/localplay",className:"/localplay"===R?"bg-gray-900 text-white px-3 py-2 rounded-md text-md font-medium":"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-md font-medium","aria-current":"page",onClick:function(){h(!1)},children:"Local Play"})]})})]})},z=(r(129),function(e){var t=e.value,r=e.handleClick,n=e.row,a=e.col,s=e.isWinningPiece;return Object(w.jsx)("div",{className:"".concat(s?"bg-green-100":""," tile border-2 border-gray-300 text-2xl lg:h-10 w-10 flex justify-center items-center select-none"),onClick:function(){return r(n,a)},children:J(t)})});function J(e){switch(e){case 0:return"\u2718";case 1:return"\u3007";case 2:return"\u25b2";case 3:return"\u2666";default:return}}r(60);var q=function(){for(var e=new _(15,[0,1],[],0,-1,!1,{},{}),t=Object(n.useState)(e),r=Object(m.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)(!1),o=Object(m.a)(c,2),l=o[0],i=o[1],d=Object(n.useState)([]),u=Object(m.a)(d,2),b=u[0],x=u[1],j=function(e,t){if(-1===a.winner&&(console.log("Clicked row: ".concat(e," col: ").concat(t)),a.click(e,t),s(a),i(!l),-1!==a.winner)){var r=V(a);x(r)}},p=[],h=0;h<224;h+=15)p.push(a.board.flat().slice(h,h+15));return console.log(p),console.log(a.board.flat()),Object(w.jsxs)("div",{className:"md:container md:mx-auto min-h-screen min-w-full flex justify-center items-center",children:[Object(w.jsx)("div",{className:"mb-0 lg:max-w-lg lg:pr-8 xl:pr-6",children:Object(w.jsx)("h1",{children:"Current Turn: ".concat(a.playerArray[a.currentTurn])})}),Object(w.jsxs)("div",{className:"grid grid-cols-15 grid-rows-15",children:[p.map((function(e,t){return e.map((function(e,r){for(var n=!1,a=0;a<b.length;a++)if(b[a].col===r&&b[a].row===t){n=!0;break}return Object(w.jsx)(z,{value:e,handleClick:j,row:t,col:r,isWinningPiece:n},"".concat(t,":").concat(r))}))})),Object(w.jsx)("button",{onClick:function(){return console.log("reset"),a.setupNewGame(),i(!l),void x([])},children:"Reset"})]})]})},V=function(e){var t=e.win1,r=e.win2,n=r.row-t.row,a=r.col-t.col,s=[],c=0,o=0,l=0;if(0===n?c=-1:0===a?o=-1:(l=n/a)>0?(c=-1,o=-1):l<0&&(c=1,o=-1),l<0)for(;r.col<=t.col&&r.row>=t.row;)s.push({col:r.col,row:r.row}),r.col+=c,r.row+=o;else for(;r.col>=t.col&&r.row>=t.row;)s.push({col:r.col,row:r.row}),r.col+=c,r.row+=o;return s},Y=function(){var e=Object(n.useContext)(L).login,t=Object(l.f)(),r=Object(n.useState)({username:"",password:""}),a=Object(m.a)(r,2),s=a[0],c=a[1],i=Object(n.useState)(!1),d=Object(m.a)(i,2),u=d[0],b=d[1];return Object(w.jsxs)("div",{className:"px-4 py-15 mx-auto mt-10 sm:mt-0 sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-20",children:[Object(w.jsxs)("div",{className:"flex flex-col justify-around lg:flex-row",children:[Object(w.jsxs)("div",{className:"mb-12 lg:max-w-lg lg:pr-5 lg:mb-0",children:[Object(w.jsxs)("div",{className:"max-w-xl mb-6",children:[Object(w.jsxs)("h2",{className:"max-w-lg mb-6 font-sans text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl sm:leading-none",children:["Welcome To ",Object(w.jsx)("span",{className:"inline-block text-purple-600",children:"Gomoku"})]}),Object(w.jsx)("p",{className:"text-base text-gray-700 md:text-lg",children:"Play Gomoku Against Others and See How You Rank!"})]}),Object(w.jsx)("hr",{className:"mb-6 border-gray-300"}),Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsx)("a",{href:"https://www.linkedin.com/in/minh100/",target:"_blank",rel:"noreferrer","aria-label":"Play Song",className:"mr-3",children:Object(w.jsx)("div",{className:"flex items-center justify-center w-10 h-10 transition duration-300 transform rounded-full shadow-md bg-deep-purple-accent-400 hover:bg-deep-purple-accent-700 hover:scale-110",children:Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"#7C3AED",children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})}),Object(w.jsx)("div",{className:"flex justify-center items-center",children:Object(w.jsx)("a",{href:"https://www.linkedin.com/in/minh100/",target:"_blank",rel:"noreferrer",className:"text-sm font-semibold",children:"Minh Truong"})})]})]}),Object(w.jsxs)("div",{className:"px-5 pt-6 pb-5 text-center border-2 border-purple-300 rounded lg:w-2/5",children:[Object(w.jsx)("div",{className:"mb-5 font-semibold",children:"Sign In"}),Object(w.jsxs)("form",{onSubmit:function(r){r.preventDefault(),e(s,t,b)},children:[Object(w.jsx)("div",{className:"mb-1 sm:mb-2",children:Object(w.jsx)("input",{placeholder:"USERNAME",required:!0,type:"text",className:"flex-grow w-full h-12 px-4 mb-2 transition duration-200 bg-white border border-gray-300 rounded shadow-sm appearance-none focus:border-deep-purple-accent-400 focus:outline-none focus:shadow-outline",name:"name",autoComplete:"off",value:s.username,onChange:function(e){return c(Object(N.a)(Object(N.a)({},s),{},{username:e.target.value}))}})}),Object(w.jsx)("div",{className:"mb-1 sm:mb-2",children:Object(w.jsx)("input",{placeholder:"PASSWORD",required:!0,type:"password",className:"flex-grow w-full h-12 px-4 mb-2 transition duration-200 bg-white border border-gray-300 rounded shadow-sm appearance-none focus:border-deep-purple-accent-400 focus:outline-none focus:shadow-outline",name:"password",autoComplete:"off",value:s.password,onChange:function(e){return c(Object(N.a)(Object(N.a)({},s),{},{password:e.target.value}))}})}),Object(w.jsx)("div",{className:"flex justify-center w-full mb-3",children:Object(w.jsxs)("div",{className:"flex items-center border rounded p-2",children:[Object(w.jsx)("button",{className:"mr-3 font-semibold text-black ",children:"Google"}),Object(w.jsx)("svg",{viewBox:"0 0 24 24",fill:"black",className:"w-4 h-4",children:Object(w.jsx)("path",{d:"M22,0H2C0.895,0,0,0.895,0,2v20c0,1.105,0.895,2,2,2h11v-9h-3v-4h3V8.413c0-3.1,1.893-4.788,4.659-4.788 c1.325,0,2.463,0.099,2.795,0.143v3.24l-1.918,0.001c-1.504,0-1.795,0.715-1.795,1.763V11h4.44l-1,4h-3.44v9H22c1.105,0,2-0.895,2-2 V2C24,0.895,23.105,0,22,0z"})})]})}),Object(w.jsx)("div",{className:"flex justify-center",children:Object(w.jsx)("button",{className:"mt-4 mb-2 w-40 sm:mb-4 bg-purple-600 rounded transform rotate-180 inline-flex items-center justify-center w-25 h-12 px-6 font-medium tracking-wide text-white transition duration-200 rounded shadow-md bg-deep-purple-accent-400 hover:bg-deep-purple-accent-700 focus:shadow-outline focus:outline-none",type:"submit",children:Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"white",children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})})})]}),Object(w.jsxs)("div",{className:"flex items-center w-full mb-5",children:[Object(w.jsx)("hr",{className:"flex-1 border-gray-300"}),Object(w.jsx)("div",{className:"px-3 text-xs text-gray-500 sm:text-sm",children:"or"}),Object(w.jsx)("hr",{className:"flex-1 border-gray-300"})]}),Object(w.jsxs)("div",{className:"flex justify-around",children:[Object(w.jsx)(o.b,{to:"/signup",className:"inline-flex items-center justify-center w-full h-12 px-6 font-semibold transition duration-200 bg-white border border-gray-300 rounded md:w-auto hover:bg-gray-100 focus:shadow-outline focus:outline-none",children:"Create Account"}),Object(w.jsx)(o.b,{to:"/",className:"inline-flex items-center justify-center w-full h-12 px-6 font-semibold transition duration-200 bg-white border border-gray-300 rounded md:w-auto hover:bg-gray-100 focus:shadow-outline focus:outline-none",children:"Guest Account"})]})]})]}),u?Object(w.jsx)("div",{className:"notification",children:Object(w.jsxs)("div",{className:"text-white px-6 py-4 border-0 rounded relative mb-4 bg-red-500",children:[Object(w.jsx)("span",{className:"text-xl inline-block mr-5 align-middle",children:Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Object(w.jsx)("span",{className:"inline-block align-middle mr-8",children:"Invalid Credentials"}),Object(w.jsx)("button",{className:"absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none",onClick:function(){return b(!1)},children:Object(w.jsx)("span",{children:"\xd7"})})]})}):null]})},K=function(){var e=Object(n.useContext)(L).createNewUser,t=Object(l.f)(),r=Object(n.useState)(""),a=Object(m.a)(r,2),s=a[0],c=a[1],i=Object(n.useState)({username:"",lowerUsername:"",password:"",rating:0,avatar:""}),b=Object(m.a)(i,2),x=b[0],j=b[1],h=Object(n.useState)(!1),f=Object(m.a)(h,2),g=f[0],O=f[1],v=Object(n.useState)(!1),y=Object(m.a)(v,2),k=y[0],C=y[1],S=function(){var e=Object(u.a)(d.a.mark((function e(){var t,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://random-word-api.herokuapp.com/word?number=1");case 2:return t=e.sent,r=t.data,e.next=6,p.a.get("https://avatars.dicebear.com/api/bottts/".concat(r[0],".svg?h=35&w=35&r=50"));case 6:n=e.sent,j(Object(N.a)(Object(N.a)({},x),{},{avatar:n.data}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){S()}),[]);return Object(w.jsxs)("section",{className:"px-4 py-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-20",children:[Object(w.jsx)("div",{className:"flex flex-col justify-around lg:flex-row",children:Object(w.jsxs)("div",{className:"px-5 pt-6 pb-5 text-center border-2 border-purple-300 rounded lg:w-2/5",children:[Object(w.jsx)("div",{className:"mb-5 font-semibold",children:"Create Account"}),Object(w.jsxs)("form",{onSubmit:function(r){r.preventDefault(),s===x.password?(e(x,t,O),j(Object(N.a)(Object(N.a)({},x),{},{password:""})),c(""),C(!1)):(C(!0),j(Object(N.a)(Object(N.a)({},x),{},{password:""})),c(""),O(!1))},children:[Object(w.jsx)("div",{className:"mb-1 sm:mb-2",children:Object(w.jsx)("input",{placeholder:"USERNAME",required:!0,type:"text",className:"flex-grow w-full h-12 px-4 mb-2 transition duration-200 bg-white border border-gray-300 rounded shadow-sm appearance-none focus:border-deep-purple-accent-400 focus:outline-none focus:shadow-outline",name:"name",maxLength:"26",autoComplete:"off",value:x.username,onChange:function(e){return j(Object(N.a)(Object(N.a)({},x),{},{username:e.target.value,lowerUsername:e.target.value.toLowerCase()}))}})}),Object(w.jsx)("div",{className:"mb-1 sm:mb-2",children:Object(w.jsx)("input",{placeholder:"PASSWORD",required:!0,type:"password",className:"flex-grow w-full h-12 px-4 mb-2 transition duration-200 bg-white border border-gray-300 rounded shadow-sm appearance-none focus:border-deep-purple-accent-400 focus:outline-none focus:shadow-outline",name:"password",autoComplete:"off",value:x.password,onChange:function(e){return j(Object(N.a)(Object(N.a)({},x),{},{password:e.target.value}))}})}),Object(w.jsx)("div",{className:"mb-1 sm:mb-2",children:Object(w.jsx)("input",{placeholder:"CONFIRM PASSWORD",required:!0,type:"password",className:"flex-grow w-full h-12 px-4 mb-2 transition duration-200 bg-white border border-gray-300 rounded shadow-sm appearance-none focus:border-deep-purple-accent-400 focus:outline-none focus:shadow-outline",name:"password-confirm",value:s,onChange:function(e){return c(e.target.value)}})}),Object(w.jsx)("div",{className:"flex justify-center w-full mb-3",children:Object(w.jsxs)("div",{className:"flex items-center border rounded p-2",children:[Object(w.jsx)("button",{className:"mr-3 font-semibold text-black ",children:"Google"}),Object(w.jsx)("svg",{viewBox:"0 0 24 24",fill:"black",className:"w-4 h-4",children:Object(w.jsx)("path",{d:"M22,0H2C0.895,0,0,0.895,0,2v20c0,1.105,0.895,2,2,2h11v-9h-3v-4h3V8.413c0-3.1,1.893-4.788,4.659-4.788 c1.325,0,2.463,0.099,2.795,0.143v3.24l-1.918,0.001c-1.504,0-1.795,0.715-1.795,1.763V11h4.44l-1,4h-3.44v9H22c1.105,0,2-0.895,2-2 V2C24,0.895,23.105,0,22,0z"})})]})}),Object(w.jsx)("div",{className:"flex justify-center",children:Object(w.jsx)("div",{className:"mt-4 mb-2 w-full sm:mb-4 bg-purple-600 rounded",children:Object(w.jsx)("button",{type:"submit",className:"inline-flex items-center justify-center w-full h-12 px-6 font-medium tracking-wide text-white transition duration-200 rounded shadow-md bg-deep-purple-accent-400 hover:bg-deep-purple-accent-700 focus:shadow-outline focus:outline-none",children:"Create Account"})})}),Object(w.jsx)(o.b,{to:"/login",children:Object(w.jsxs)("p",{className:"text-xs text-gray-600 sm:text-sm",children:["Already have an Account? ",Object(w.jsx)("span",{className:"text-purple-600",children:"Log In"})]})})]})]})}),g?Object(w.jsx)("div",{className:"notification",children:Object(w.jsxs)("div",{className:"text-white px-6 py-4 border-0 rounded relative mb-4 bg-red-500",children:[Object(w.jsx)("span",{className:"text-xl inline-block mr-5 align-middle",children:Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Object(w.jsx)("span",{className:"inline-block align-middle mr-8",children:"Username Already Taken"}),Object(w.jsx)("button",{className:"absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none",onClick:function(){return O(!1)},children:Object(w.jsx)("span",{children:"\xd7"})})]})}):null,k?Object(w.jsx)("div",{className:"notification",children:Object(w.jsxs)("div",{className:"text-white px-6 py-4 border-0 rounded relative mb-4 bg-red-500",children:[Object(w.jsx)("span",{className:"text-xl inline-block mr-5 align-middle",children:Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Object(w.jsx)("span",{className:"inline-block align-middle mr-8",children:"Passwords Do Not Match"}),Object(w.jsx)("button",{className:"absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none",onClick:function(){return C(!1)},children:Object(w.jsx)("span",{children:"\xd7"})})]})}):null]})},Q=function(){var e=Object(n.useContext)(L),t=e.users,r=e.getAllUsers,a=Object(n.useState)(t),s=Object(m.a)(a,2),c=s[0],o=s[1],l=Object(n.useState)(""),i=Object(m.a)(l,2),d=i[0],u=i[1],b=Object(n.useContext)(U),x=Object(n.useState)(t),j=Object(m.a)(x,2),p=j[0],h=j[1];return Object(n.useEffect)((function(){if(o(t),""!==d){var e=t.filter((function(e){return-1!==e.username.toLowerCase().indexOf(d.toLowerCase())}));o(e)}}),[d]),Object(n.useEffect)((function(){return r(),b.on("updateLeaderboard",(function(e){r(),h(e)})),function(){b.off("updateLeaderboard")}}),[b]),console.log("allUsers",p),console.log("users",t),Object(w.jsx)("div",{className:"container mx-auto px-4 py-4 sm:px-8 max-w-3xl",children:Object(w.jsxs)("div",{className:"py-8",children:[Object(w.jsxs)("div",{className:"flex flex-row mb-1 sm:mb-0 justify-between w-full",children:[Object(w.jsx)("h2",{className:"pl-2 text-2xl leading-tight font-bold",children:"Users"}),Object(w.jsx)("div",{className:"text-end pr-2",children:Object(w.jsx)("form",{className:"flex w-full max-w-sm space-x-3",children:Object(w.jsx)("div",{className:" relative ",children:Object(w.jsx)("input",{type:"text",id:'"form-subscribe-Filter',className:"rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"username...",autoComplete:"off",value:d,onChange:function(e){return u(e.target.value)}})})})})]}),Object(w.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:Object(w.jsx)("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:Object(w.jsxs)("table",{className:"min-w-full leading-normal",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{scope:"col",className:"pl-8 py-3 bg-white font-semibold border-b border-gray-300 text-gray-800 text-left text-sm uppercase",children:"Username"}),Object(w.jsx)("th",{scope:"col",className:"px-5 py-3 bg-white font-semibold border-b border-gray-300 text-gray-800 text-left text-sm uppercase",children:"Rating"})]})}),Object(w.jsx)("tbody",{children:t&&0!==c.length?c.sort((function(e,t){return t.rating-e.rating})).map((function(e){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm w-7/12",children:Object(w.jsxs)("div",{className:"flex items-center flex-grow-0",children:[Object(w.jsx)("div",{className:"flex-shrink-0",children:Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:"".concat(e.avatar)}})}),Object(w.jsx)("div",{className:"ml-3",children:Object(w.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:e.username})})]})}),Object(w.jsx)("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(w.jsxs)("span",{className:"relative inline-block px-3 py-1 font-semibold text-purple-900 leading-tight",children:[Object(w.jsx)("span",{"aria-hidden":"true",className:"absolute inset-0 bg-purple-600 rounded-full"}),Object(w.jsx)("span",{className:"relative",children:Object(w.jsx)("p",{className:"text-white whitespace-no-wrap ",children:e.rating})})]})})]},e._id)})):t.sort((function(e,t){return t.rating-e.rating})).map((function(e){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm w-7/12",children:Object(w.jsxs)("div",{className:"flex items-center flex-grow-0",children:[Object(w.jsx)("div",{className:"flex-shrink-0",children:Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:"".concat(e.avatar)}})}),Object(w.jsx)("div",{className:"ml-3",children:Object(w.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:e.username})})]})}),Object(w.jsx)("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(w.jsxs)("span",{className:"relative inline-block px-3 py-1 font-semibold text-purple-900 leading-tight",children:[Object(w.jsx)("span",{"aria-hidden":"true",className:"absolute inset-0 bg-purple-600 rounded-full"}),Object(w.jsx)("span",{className:"relative",children:Object(w.jsx)("p",{className:"text-white whitespace-no-wrap ",children:e.rating})})]})})]},e._id)}))})]})})})]})})},X=function(e){var t=e.game,r=e.currentRoom,a=e.profile,s=new _(15,t.playerArray,t.board,t.currentTurn,t.winner,t.draw,t.win1,t.win2,t.ratingWin,t.ratingLose),c=Object(n.useState)(s),o=Object(m.a)(c,2),l=o[0],i=o[1],d=Object(n.useState)(!1),u=Object(m.a)(d,2),b=u[0],x=u[1],j=Object(n.useState)(Z(s)),p=Object(m.a)(j,2),h=p[0],f=p[1],g=Object(n.useContext)(U),O=function(e,t){if(-1===l.winner&&!l.draw&&r.playerArray[l.currentTurn].username===a.username){console.log("Clicked row: ".concat(e," col: ").concat(t)),l.click(e,t),i(l),x(!b),l.board=l.board.flat(),g.emit("updateGame",{gameModel:l,currentRoom:r});for(var n=[],s=0;s<224;s+=15)n.push(l.board.slice(s,s+15));if(l.board=n,-1!==l.winner){var c=Z(l);f(c),g.emit("updateWinAndLose",{gameModel:l,currentRoom:r}),g.emit("deleteGameRoom",{currentRoom:r})}}};return Object(n.useEffect)((function(){return g.on("sendUpdatedGame",(function(e){var t=new _(15,e.game.playerArray,e.game.board,e.game.currentTurn,e.game.winner,e.game.draw,e.game.win1,e.game.win2,e.game.ratingWin,e.game.ratingLose);i(t),f(Z(t))})),function(){g.off("sendUpdatedGame")}}),[g]),Object(w.jsxs)(w.Fragment,{children:[-1!==l.winner?Object(w.jsxs)("h1",{className:"pl-2 mb-2 text-base text-gray-700 md:text-lg",children:["Winner: ",Object(w.jsx)("span",{className:"text-purple-600",children:r.playerArray[l.currentTurn].username})]}):Object(w.jsxs)("h1",{className:"pl-2 mb-2 text-base text-gray-700 md:text-lg",children:["Current Turn: ",Object(w.jsx)("span",{className:"text-purple-600",children:r.playerArray[l.currentTurn].username})]}),Object(w.jsx)("div",{className:"grid grid-cols-15 grid-rows-15",children:l.board.map((function(e,t){return e.map((function(e,r){var n=!1;if(-1!==l.winner)for(var a=0;a<h.length;a++)if(h[a].col===r&&h[a].row===t){n=!0;break}return Object(w.jsx)(z,{value:e,handleClick:O,row:t,col:r,isWinningPiece:n},"".concat(t,":").concat(r))}))}))})]})},Z=function(e){var t=e.win1,r=e.win2,n=r.row-t.row,a=r.col-t.col,s=[],c=0,o=0,l=0;if(0===n?c=-1:0===a?o=-1:(l=n/a)>0?(c=-1,o=-1):l<0&&(c=1,o=-1),l<0)for(;r.col<=t.col&&r.row>=t.row;)s.push({col:r.col,row:r.row}),r.col+=c,r.row+=o;else for(;r.col>=t.col&&r.row>=t.row;)s.push({col:r.col,row:r.row}),r.col+=c,r.row+=o;return s},$=function(){var e=Object(l.g)(),t=Object(l.f)(),r=Object(n.useContext)(v),a=r.rooms,s=r.getAllRooms,c=a.find((function(t){return t.roomName===e.state[0]})),o=Object(n.useState)(!1),i=Object(m.a)(o,2),b=i[0],x=i[1],j=Object(n.useContext)(U),p=Object(n.useContext)(L).users,h=Object(n.useState)(JSON.parse(localStorage.getItem("profile")));if(null!==h[0]){var f=void 0!==h[0].userResult?h[0].userResult.username:h[0].result.username;console.log("users",p)}var g=p.find((function(e){return e.username===f}));Object(n.useEffect)((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),setTimeout((function(){O()}),1600)}),[b]),Object(n.useEffect)((function(){j.on("toGameRoom",(function(e){c=e,x(!b)}))}),[c,j]),console.log("currentRoom",c);var O=function(){e.state[1].some((function(e){return e._id===g._id}))||(console.log("not valid user, going back"),t.goBack())};return Object(w.jsx)("div",{className:"px-4 py-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8",children:Object(w.jsxs)("div",{className:"grid gap-5 row-gap-8 lg:grid-cols-2",children:[Object(w.jsxs)("div",{className:"flex flex-col justify-start",children:[Object(w.jsx)("div",{className:"max-w-xl mb-6",children:Object(w.jsx)("h2",{className:"max-w-lg mb-1 font-sans text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl sm:leading-none",children:Object(w.jsxs)("span",{className:"relative px-1",children:[Object(w.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-3 transform -skew-x-12 bg-green-400"}),Object(w.jsx)("span",{className:"relative inline-block text-purple-600",children:c&&c.roomName})]})})}),Object(w.jsxs)("div",{className:"grid gap-5 sm:grid-cols-2 lg:grid-rows-2",children:[c&&c.playerArray.map((function(e){return Object(w.jsx)("div",{className:"bg-white w- border-l-4 shadow-sm border-purple-600",children:Object(w.jsxs)("div",{className:"h-full p-5 border border-l-0 rounded-r flex",children:[Object(w.jsx)("div",{className:"mr-3 mt-1",dangerouslySetInnerHTML:{__html:"".concat(e.avatar)}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h6",{className:"mb-2 font-semibold leading-5",children:"".concat(e.username)}),Object(w.jsx)("p",{className:"text-sm text-gray-900",children:"Rating: ".concat(e.rating)})]})]})},e._id)})),Object(w.jsx)("div",{className:"pl-2 text-base text-gray-700 md:text-lg",children:c&&Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("h1",{children:["Win ",Object(w.jsxs)("span",{className:"text-green-400",children:["+",c.ratingWin]})," / Lose ",Object(w.jsxs)("span",{className:"text-red-500",children:["-",c.ratingLose]})]})})})]})]}),Object(w.jsx)("div",{children:void 0!==c&&c.playerArray.length>=2?Object(w.jsx)(X,{game:c.game,currentRoom:c,profile:g}):Object(w.jsx)("h1",{children:"Waiting for others to join..."})})]})})};var ee=function(){return Object(w.jsx)(o.a,{basename:"/Gomoku",children:Object(w.jsx)(A,{children:Object(w.jsx)(y,{children:Object(w.jsxs)(l.c,{children:[Object(w.jsx)(l.a,{path:"/login",component:Y}),Object(w.jsx)(l.a,{path:"/signup",component:K}),Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(U.Provider,{value:P,children:[Object(w.jsx)(F,{}),Object(w.jsx)(l.a,{exact:!0,path:"/",component:B}),Object(w.jsx)(l.a,{exact:!0,path:"/leaderboard",component:Q}),Object(w.jsx)(l.a,{exact:!0,path:"/localplay",component:q}),Object(w.jsx)(l.a,{path:"/play",component:$})]})})]})})})})};c.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(ee,{})}),document.getElementById("root"))},60:function(e,t,r){},71:function(e,t,r){}},[[130,1,2]]]);
//# sourceMappingURL=main.c4873868.chunk.js.map